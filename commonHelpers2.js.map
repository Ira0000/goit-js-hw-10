{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-snackbar.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from 'flatpickr';\n// Додатковий імпорт стилів\nimport 'flatpickr/dist/flatpickr.min.css';\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nlet userSelectedDate;\nconst inputDateField = document.querySelector('input#datetime-picker');\n// console.dir(inputDateField);\nconst startButton = document.querySelector('.data-start-btn');\n// console.dir(startButton);\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n    handleSelectedDate(userSelectedDate);\n  },\n};\nlet timer = flatpickr(inputDateField, options);\n\nfunction handleSelectedDate(userSelectedDate) {\n  console.log(`This is : ${userSelectedDate}`);\n  // Get current date and time\n  let currentDate = new Date();\n  console.log(`Current date: ${currentDate}`);\n  // Calculate the difference in milliseconds\n  const timeDifference = userSelectedDate.getTime() - currentDate.getTime();\n  console.log(timeDifference);\n  if (timeDifference > 0) {\n    inputDateField.classList.remove('input-disabled');\n    updateTimer(timeDifference);\n  } else {\n    window.alert('Please choose a date in the future');\n    startButton.disabled = true;\n    inputDateField.classList.add('input-disabled');\n    return; // Exit the function if the date is older\n  }\n}\n\nfunction updateTimer(timeDifference) {\n  console.log('update Timer');\n  console.log(timeDifference);\n  const timerDaysField = document.querySelector('.value[data-days]');\n  console.dir(timerDaysField);\n  const timerHoursField = document.querySelector('.value[data-hours]');\n  const timerMinutesField = document.querySelector('.value[data-minutes]');\n  const timerSecondsField = document.querySelector('.value[data-seconds]');\n\n  let timerObject = convertMs(timeDifference);\n  console.log(timerObject);\n\n  function addLeadingZero(value) {\n    return value.padStart(2, '0');\n  }\n\n  timerDaysField.textContent = addLeadingZero(`${timerObject.days}`);\n  timerHoursField.textContent = addLeadingZero(`${timerObject.hours}`);\n  timerMinutesField.textContent = addLeadingZero(`${timerObject.minutes}`);\n  timerSecondsField.textContent = addLeadingZero(`${timerObject.seconds}`);\n\n  // Call this function again after 1 second to update the time\n  setTimeout(updateTimer, 1000);\n}\n\nstartButton.addEventListener('click', handleStart);\n\nfunction handleStart() {\n  if (userSelectedDate && userSelectedDate.getTime() > new Date().getTime()) {\n    setTimeout(updateTimer, 1000);\n  } else {\n    console.warn('No valid selected date available for timer update');\n  }\n}\n"],"names":["convertMs","ms","days","hours","minutes","seconds","userSelectedDate","inputDateField","startButton","options","selectedDates","handleSelectedDate","flatpickr","currentDate","timeDifference","updateTimer","timerDaysField","timerHoursField","timerMinutesField","timerSecondsField","timerObject","addLeadingZero","value","handleStart"],"mappings":"oGAKA,SAASA,EAAUC,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,IAAIC,EACJ,MAAMC,EAAiB,SAAS,cAAc,uBAAuB,EAE/DC,EAAc,SAAS,cAAc,iBAAiB,EAGtDC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBJ,EAAmBI,EAAc,CAAC,EAClCC,EAAmBL,CAAgB,CACpC,CACH,EACYM,EAAUL,EAAgBE,CAAO,EAE7C,SAASE,EAAmBL,EAAkB,CAC5C,QAAQ,IAAI,aAAaA,CAAgB,EAAE,EAE3C,IAAIO,EAAc,IAAI,KACtB,QAAQ,IAAI,iBAAiBA,CAAW,EAAE,EAE1C,MAAMC,EAAiBR,EAAiB,QAAS,EAAGO,EAAY,QAAO,EAEvE,GADA,QAAQ,IAAIC,CAAc,EACtBA,EAAiB,EACnBP,EAAe,UAAU,OAAO,gBAAgB,EAChDQ,EAAYD,CAAc,MACrB,CACL,OAAO,MAAM,oCAAoC,EACjDN,EAAY,SAAW,GACvBD,EAAe,UAAU,IAAI,gBAAgB,EAC7C,MACD,CACH,CAEA,SAASQ,EAAYD,EAAgB,CACnC,QAAQ,IAAI,cAAc,EAC1B,QAAQ,IAAIA,CAAc,EAC1B,MAAME,EAAiB,SAAS,cAAc,mBAAmB,EACjE,QAAQ,IAAIA,CAAc,EAC1B,MAAMC,EAAkB,SAAS,cAAc,oBAAoB,EAC7DC,EAAoB,SAAS,cAAc,sBAAsB,EACjEC,EAAoB,SAAS,cAAc,sBAAsB,EAEvE,IAAIC,EAAcpB,EAAUc,CAAc,EAC1C,QAAQ,IAAIM,CAAW,EAEvB,SAASC,EAAeC,EAAO,CAC7B,OAAOA,EAAM,SAAS,EAAG,GAAG,CAC7B,CAEDN,EAAe,YAAcK,EAAe,GAAGD,EAAY,IAAI,EAAE,EACjEH,EAAgB,YAAcI,EAAe,GAAGD,EAAY,KAAK,EAAE,EACnEF,EAAkB,YAAcG,EAAe,GAAGD,EAAY,OAAO,EAAE,EACvED,EAAkB,YAAcE,EAAe,GAAGD,EAAY,OAAO,EAAE,EAGvE,WAAWL,EAAa,GAAI,CAC9B,CAEAP,EAAY,iBAAiB,QAASe,CAAW,EAEjD,SAASA,GAAc,CACjBjB,GAAoBA,EAAiB,QAAO,EAAK,IAAI,KAAI,EAAG,UAC9D,WAAWS,EAAa,GAAI,EAE5B,QAAQ,KAAK,mDAAmD,CAEpE"}